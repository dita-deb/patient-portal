<script>
  // Use the correct raw GitHub URL for the JSON file
  const jsonURL = 'https://raw.githubusercontent.com/dita-deb/patient-portal/main/JSON%20Medical%20Files/MOCK_DATA.json';

  // Fetch the JSON data from GitHub
  fetch(jsonURL)
    .then(response => {
      if (!response.ok) {
        throw new Error('Network response was not ok');
      }
      return response.json();
    })
    .then(data => {
      let patientInfoHtml = '';
      data.forEach(patient => {
        patientInfoHtml += `
          <h2>${patient.name}</h2>
          <p><strong>Age:</strong> ${patient.age}</p>
          <p><strong>Gender:</strong> ${patient.gender}</p>
          <p><strong>Blood Type:</strong> ${patient.blood_type}</p>
          <p><strong>Allergies:</strong> ${patient.allergies.join(', ')}</p>
          <p><strong>Medical History:</strong> ${patient.medical_history.map(mh => mh.diagnosis).join(', ')}</p>
        `;
      });

      // Inject the HTML into the page
      document.getElementById('patient-info').innerHTML = patientInfoHtml;
    })
    .catch(error => {
      console.error('Error fetching the JSON data:', error);
      document.getElementById('patient-info').innerHTML = 'Error loading patient data.';
    });
</script>

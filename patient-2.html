<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Patient Portal</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      margin: 0;
      padding: 0;
      background-color: #f4f4f9;
      display: flex;
      flex-direction: column;
      align-items: center;
      padding: 20px;
    }
    h1 {
      color: #333;
    }
    .patient-info {
      background-color: #fff;
      border: 1px solid #ddd;
      padding: 20px;
      border-radius: 8px;
      box-shadow: 0 2px 5px rgba(0,0,0,0.1);
      margin-top: 20px;
      width: 80%;
      max-width: 800px;
    }
    .patient-info h2 {
      color: #007BFF;
      margin-bottom: 10px;
    }
    .patient-info p {
      margin: 5px 0;
    }
    .medical-history {
      margin-top: 10px;
    }
    .medical-history ul {
      padding-left: 20px;
    }
    .medical-history li {
      margin-bottom: 5px;
    }
  </style>
</head>
<body>

  <h1>Welcome to the Patient Portal</h1>
  <div id="patient-info">
    <!-- Patient info will be injected here -->
  </div>

  <script>
    // Manually inserted data (same structure as the JSON file)
    const data = [
      {
        "patient_id": "605c72ef153207001f8e2d2a6",
        "name": "Jane Smith",
        "age": 38,
        "gender": "Female",
        "blood_type": "O+",
        "phone": "+1 987-654-3210",
        "address": "456 Oak St, AnotherCity, AnotherState, 67890",
        "email": "janesmith@email.com",
        "allergies": ["Penicillin", "Shellfish"],
        "medical_history": [
          {
            "diagnosis": "Diabetes Type 2",
            "diagnosed_on": "2017-03-14",
            "medications": ["Metformin", "Insulin"],
            "notes": "Monitor blood sugar levels regularly."
          },
          {
            "diagnosis": "High Cholesterol",
            "diagnosed_on": "2020-06-22",
            "medications": ["Atorvastatin"],
            "notes": "Diet and exercise recommended."
          }
        ],
        "emergency_contact": {
          "name": "John Smith",
          "phone": "+1 234-567-8901",
          "relation": "Husband"
        },
        "last_visit": "2023-11-05"
      }
    ];

    // Process and display the data on the page
    let patientInfoHtml = '';
    data.forEach(patient => {
      patientInfoHtml += `
        <div class="patient-info">
          <h2>${patient.name}</h2>
          <p><strong>Age:</strong> ${patient.age}</p>
          <p><strong>Gender:</strong> ${patient.gender}</p>
          <p><strong>Blood Type:</strong> ${patient.blood_type}</p>
          <p><strong>Allergies:</strong> ${patient.allergies.join(', ')}</p>
          
          <div class="medical-history">
            <strong>Medical History:</strong>
            <ul>
              ${patient.medical_history.map(mh => `
                <li><strong>${mh.diagnosis}</strong> (Diagnosed on: ${mh.diagnosed_on})</li>
              `).join('')}
            </ul>
          </div>
        </div>
      `;
    });

    document.getElementById('patient-info').innerHTML = patientInfoHtml;
  </script>

</body>
</html>
